import { ConnectButton } from '@rainbow-me/rainbowkit';
import type { NextPage } from 'next';
import Head from 'next/head';
import styles from '../styles/Home.module.css';
import { ZDK, ZDKNetwork, ZDKChain } from "@zoralabs/zdk";
import { useEffect } from 'react';

import devs4Rev from '../apis/dev4Rev';
import ownerTokens from '../apis/ownerTokens'

const Home: NextPage = () => {
  
  const networkInfo = {
      network: ZDKNetwork.Ethereum,
      chain: ZDKChain.Mainnet,
    }

  const API_ENDPOINT = "https://api.zora.co/graphql";
  const args = { 
                endPoint:API_ENDPOINT, 
                networks:[networkInfo], 
                apiKey: process.env.API_KEY 
              } 

  
  const zdk = new ZDK(args)

  useEffect(() => {
   devs4Rev(zdk);
   ownerTokens(zdk, 'kidme.eth');
  }, [])
  
  return (
    <div className={styles.container}>
      <Head>
        <title>RainbowKit App</title>
        <meta
          name="description"
          content="Generated by @rainbow-me/create-rainbowkit"
        />
      </Head>

      <main className={styles.main}>
        <ConnectButton accountStatus="address" showBalance={false} />

        <h1 className={styles.title}>
        </h1>

        <p className={styles.description}>
          Get started by editing{' '}
        </p>

        <div className={styles.grid}>
          <a href="https://rainbowkit.com" className={styles.card}>
            <h2>RainbowKit Documentation &rarr;</h2>
            <p>Learn how to customize your wallet connection flow.</p>
          </a>
        </div>
      </main>

      <footer className={styles.footer}>
      </footer>
    </div>
  );
};

export default Home;
